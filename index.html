<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Initial title set to Bangla and marked for translation -->
    <title data-i18n-key="page_title">বিস্তারিত ব্যক্তিত্ব পরীক্ষা</title>
    <!-- canvas-confetti library for visual feedback -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <!-- Ad Script Insertion for high-quality ads (Your requested ad script) -->
    <script type='text/javascript' src='//pl22633019.revenuecpmgate.com/39/63/a8/3963a8f234dd912f6d9120d924978d21.js'></script>

    <!-- Section 2: CSS Styling -->
    <style>
        /* Google Fonts Import */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

        /* CSS Variables */
        :root {
            --primary-color: #6a11cb;
            --secondary-color: #2575fc;
            --primary-light: #e8f9fd;
            --text-color: #34495e;
            --light-gray: #dde4e9;
            --white: #ffffff;
            --card-bg: rgba(255, 255, 255, 0.95);
            --whatsapp-green: #25D366;
        }

        /* General Styling and Layout */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            transition: color 0.3s, background-color 0.3s, border-color 0.3s, transform 0.3s;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-color);
            padding: 20px;
        }

        /* Main Container (.container) - Glassmorphism */
        .container {
            width: 100%;
            max-width: 800px;
            background-color: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.6) inset;
            text-align: center;
        }

        /* Header Styling */
        h1 {
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 5px;
        }

        .header-subtitle {
            color: #7f8c8d;
            font-weight: 500;
        }

        /* Language Switcher */
        .lang-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 5px;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(5px);
            border-radius: 10px;
            padding: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .lang-switcher button {
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            background: transparent;
            color: var(--text-color);
        }

        .lang-switcher button:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .lang-switcher button.active {
            background-color: var(--secondary-color);
            color: var(--white);
            box-shadow: 0 2px 5px rgba(37, 117, 252, 0.5);
        }

        /* Test Length Selector */
        .test-length-selector {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .test-length-selector .btn {
            background: var(--light-gray);
            color: var(--text-color);
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: none;
            border: 2px solid transparent;
            min-width: 150px;
        }

        .test-length-selector .btn:hover {
            background: var(--primary-light);
            border-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        /* Question Styling */
        #quizForm {
            margin-top: 30px;
            text-align: left;
        }

        .question-block {
            display: none;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            background-color: var(--white);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .question-block.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-text {
            font-size: 1.25em;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        /* Options Container */
        .options-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        /* Crucially, hide the actual radio buttons */
        input[type="radio"] {
            display: none;
        }

        /* Style the associated <label> elements to look like buttons */
        .options-container label {
            padding: 15px 20px;
            border-radius: 10px;
            border: 2px solid var(--light-gray);
            background-color: var(--white);
            color: var(--text-color);
            cursor: pointer;
            font-weight: 500;
            text-align: center;
            line-height: 1.4;
        }

        .options-container label:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* When radio button is checked, style the label */
        input[type="radio"]:checked + label {
            background-color: var(--primary-light);
            border-color: var(--secondary-color);
            color: var(--secondary-color);
            box-shadow: 0 0 15px rgba(37, 117, 252, 0.2);
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            height: 10px;
            background-color: var(--light-gray);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transition: width 0.4s ease;
            border-radius: 5px;
        }

        .progress-text {
            font-weight: 500;
            margin-top: 10px;
            color: var(--primary-color);
        }

        /* Buttons (.btn) - General Call-to-Action Style */
        .btn {
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            color: var(--white);
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none; /* For links/shared buttons */
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 117, 252, 0.3);
        }

        /* Result Display */
        #result-type {
            font-size: 4em;
            font-weight: 800;
            margin: 20px 0 10px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0px 5px rgba(0, 0, 0, 0.05);
        }

        #result-title {
            font-size: 1.8em;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 5px;
        }

        #result-tagline {
            font-style: italic;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        #result-desc {
            line-height: 1.6;
            margin-bottom: 30px;
            text-align: left;
        }

        #result-chars ul {
            list-style: none;
            padding: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        #result-chars li {
            text-align: left;
            padding: 10px 15px;
            border-left: 5px solid var(--secondary-color);
            background-color: var(--primary-light);
            border-radius: 5px;
            font-weight: 500;
        }

        /* Share Section */
        #share-section {
            border: 2px dashed var(--light-gray);
            padding: 25px;
            margin-top: 30px;
            border-radius: 15px;
            background-color: var(--white);
        }

        #userName {
            width: 80%;
            padding: 10px 15px;
            margin: 15px auto;
            display: block;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            font-size: 1em;
        }

        #shareBtn {
            background: var(--whatsapp-green);
            margin-top: 15px;
        }

        #shareBtn:hover {
            background: #128C7E; /* Darker WhatsApp green */
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3);
        }

        #shareBtn svg {
            margin-right: 10px;
            width: 24px;
            height: 24px;
            fill: var(--white);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 20px;
                border-radius: 10px;
            }

            .lang-switcher {
                top: 10px;
                right: 10px;
            }

            h1 {
                font-size: 1.8em;
            }

            .options-container {
                grid-template-columns: 1fr; /* Stack options vertically */
            }

            #result-type {
                font-size: 3em;
            }

            #result-chars ul {
                grid-template-columns: 1fr;
            }

            #userName {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Language Switcher -->
    <div class="lang-switcher">
        <button id="lang-bn" onclick="setLanguage('bn')">বাংলা</button>
        <button id="lang-hi" onclick="setLanguage('hi')">हिंदी</button>
        <button id="lang-en" onclick="setLanguage('en')">English</button>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header>
            <h1 data-i18n-key="header_title"></h1>
            <p class="header-subtitle" data-i18n-key="header_subtitle"></p>
        </header>

        <hr style="margin: 20px 0; border: 0; border-top: 1px solid var(--light-gray);">

        <!-- Start Screen -->
        <section id="start-screen">
            <p style="font-size: 3em; margin-bottom: 10px;">🧭</p>
            <h2 data-i18n-key="start_title" style="margin-bottom: 15px;"></h2>
            <p data-i18n-key="start_desc" style="margin-bottom: 30px;"></p>

            <p data-i18n-key="start_select_label" style="font-weight: 600; margin-bottom: 15px;"></p>
            <div class="test-length-selector">
                <button class="btn" onclick="startQuiz(10)">
                    10 <span data-i18n-key="questions_label"></span>
                </button>
                <button class="btn" onclick="startQuiz(20)">
                    20 <span data-i18n-key="questions_label"></span>
                </button>
                <button class="btn" onclick="startQuiz(30)">
                    30 <span data-i18n-key="questions_label"></span>
                </button>
            </div>
        </section>

        <!-- Progress Container (Initially Hidden) -->
        <div class="progress-container" id="progressContainer" style="display: none;">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <p class="progress-text" id="progressText" style="display: none;"></p>

        <!-- Quiz Form (Initially Hidden) -->
        <form id="quizForm" style="display: none;"></form>

        <!-- Result Button Container (Initially Hidden) -->
        <div id="resultBtnContainer" style="display: none; margin-top: 30px;">
            <button class="btn" onclick="calculateResult()" data-i18n-key="view_results_button"></button>
        </div>

        <!-- Result Display (Initially Hidden) -->
        <section id="result" style="display: none;">
            <h2 data-i18n-key="result_heading" style="font-size: 2em; margin-top: 0;"></h2>
            <div id="result-type"></div>
            <div id="result-title" class="result-title"></div>
            <p id="result-tagline"></p>

            <h3 data-i18n-key="description_heading" style="margin: 30px 0 10px; font-weight: 600; text-align: left;"></h3>
            <p id="result-desc"></p>

            <h3 data-i18n-key="characteristics_heading" style="margin: 30px 0 10px; font-weight: 600; text-align: left;"></h3>
            <div id="result-chars"></div>

            <!-- Share Section -->
            <div id="share-section">
                <h3 data-i18n-key="share_section_heading" style="margin-bottom: 10px; font-size: 1.2em;"></h3>
                <input type="text" id="userName" data-i18n-placeholder-key="name_placeholder" placeholder="">
                <button id="shareBtn" class="btn" onclick="shareOnWhatsApp()">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M12.04 2C6.58 2 2.1 6.48 2.08 11.94 2.06 13.88 2.5 15.65 3.32 17.22L2.08 22L7.02 20.73C8.42 21.57 9.9 21.99 11.45 21.99H12.04C17.5 21.99 21.98 17.51 21.98 12.05 21.98 6.59 17.5 2 12.04 2Z" fill="white"></path>
                    </svg>
                    <span data-i18n-key="share_button"></span>
                </button>
            </div>

            <!-- Reset Button Container -->
            <div style="margin-top: 30px;">
                <button class="btn" onclick="resetQuiz()" data-i18n-key="start_over_button"></button>
            </div>

        </section>

    </div>

    <!-- Section 3: JavaScript Logic & Data -->
    <script>
        // --- Global State Variables ---
        let currentLang = 'bn'; // Initial language
        let currentQuestionIndex = 0;
        let TOTAL_QUESTIONS = 0;
        let userResult = {};
        let selectedQuestions = [];

        // --- Data Objects (i18n) ---
        const i18n = {
            'en': {
                page_title: "Detailed Personality Test",
                header_title: "16-Type Personality Assessment",
                header_subtitle: "Your guide to the scientifically-backed 16 personalities framework.",
                start_title: "Start the Assessment",
                start_desc: "Select your preferred test length below. All tests are equally balanced across dimensions.",
                start_select_label: "Select Test Length:",
                questions_label: "Questions",
                view_results_button: "View Results",
                start_over_button: "Start Over",
                result_heading: "Your Personality Type",
                description_heading: "Description",
                characteristics_heading: "Key Characteristics",
                share_section_heading: "Share Your Result",
                share_button: "Share on WhatsApp",
                name_placeholder: "Your Name (Optional)",
                option_4: "Strongly Agree",
                option_3: "Agree",
                option_2: "Disagree",
                option_1: "Strongly Disagree",
                alert_incomplete: "Please answer all questions before viewing results.",
                alert_confirm_reset: "A quiz is currently in progress. Do you want to reset and change the language?",
                progress_text: (current, total) => `Question ${current} of ${total}`,
                share_message: (name, type, title) => `${name ? name + ' has' : 'I have'} discovered my personality! I am a *${type}* - ${title}. Find out your type too: ${window.location.href}`
            },
            'hi': {
                page_title: "विस्तृत व्यक्तित्व परीक्षण",
                header_title: "16 व्यक्तित्व मूल्यांकन",
                header_subtitle: "वैज्ञानिक रूप से समर्थित 16 व्यक्तित्व ढांचे के लिए आपका मार्गदर्शक।",
                start_title: "मूल्यांकन शुरू करें",
                start_desc: "नीचे अपनी पसंदीदा परीक्षण लंबाई चुनें। सभी परीक्षण आयामों में समान रूप से संतुलित हैं।",
                start_select_label: "परीक्षण की लंबाई चुनें:",
                questions_label: "प्रश्न",
                view_results_button: "परिणाम देखें",
                start_over_button: "फिर से शुरू करें",
                result_heading: "आपका व्यक्तित्व प्रकार",
                description_heading: "विवरण",
                characteristics_heading: "मुख्य विशेषताएँ",
                share_section_heading: "अपना परिणाम साझा करें",
                share_button: "व्हाट्सएप पर साझा करें",
                name_placeholder: "आपका नाम (वैकल्पिक)",
                option_4: "पूरी तरह सहमत",
                option_3: "सहमत",
                option_2: "असहमत",
                option_1: "पूरी तरह असहमत",
                alert_incomplete: "परिणाम देखने से पहले कृपया सभी प्रश्नों का उत्तर दें।",
                alert_confirm_reset: "एक प्रश्नोत्तरी वर्तमान में प्रगति पर है। क्या आप रीसेट करना और भाषा बदलना चाहते हैं?",
                progress_text: (current, total) => `प्रश्न ${current} / ${total}`,
                share_message: (name, type, title) => `${name ? name + ' ने' : 'मैंने'} अपनी व्यक्तित्व की खोज की! मैं एक *${type}* हूँ - ${title}। अपना प्रकार भी जानें: ${window.location.href}`
            },
            'bn': {
                page_title: "বিস্তারিত ব্যক্তিত্ব পরীক্ষা",
                header_title: "16 প্রকার ব্যক্তিত্ব মূল্যায়ন",
                header_subtitle: "বৈজ্ঞানিকভাবে সমর্থিত 16 প্রকার ব্যক্তিত্বের কাঠামোর জন্য আপনার গাইড।",
                start_title: "মূল্যায়ন শুরু করুন",
                start_desc: "নীচে আপনার পছন্দের পরীক্ষার দৈর্ঘ্য নির্বাচন করুন। সমস্ত পরীক্ষা মাত্রা জুড়ে সমানভাবে সুষম।",
                start_select_label: "পরীক্ষার দৈর্ঘ্য নির্বাচন করুন:",
                questions_label: "প্রশ্ন",
                view_results_button: "ফলাফল দেখুন",
                start_over_button: "আবার শুরু করুন",
                result_heading: "আপনার ব্যক্তিত্বের ধরন",
                description_heading: "বিবরণ",
                characteristics_heading: "মূল বৈশিষ্ট্য",
                share_section_heading: "আপনার ফলাফল শেয়ার করুন",
                share_button: "হোয়াটসঅ্যাপে শেয়ার করুন",
                name_placeholder: "আপনার নাম (ঐচ্ছিক)",
                option_4: "দৃঢ়ভাবে একমত",
                option_3: "একমত",
                option_2: "একমত না",
                option_1: "দৃঢ়ভাবে একমত না",
                alert_incomplete: "ফলাফল দেখার আগে সব প্রশ্নের উত্তর দিন।",
                alert_confirm_reset: "একটি কুইজ বর্তমানে চলছে। আপনি কি রিসেট করে ভাষা পরিবর্তন করতে চান?",
                progress_text: (current, total) => `প্রশ্ন ${current} / ${total}`,
                share_message: (name, type, title) => `${name ? name + ' আবিষ্কার করেছেন যে তিনি' : 'আমি আবিষ্কার করেছি যে আমি'} একটি *${type}* - ${title}। আপনার প্রকারও খুঁজে বের করুন: ${window.location.href}`
            }
        };

        // --- Data Objects (personalityTypes - 16 types) ---
        const personalityTypes = {
            // Analysts
            INTJ: { title: { en: "The Architect", hi: "वास्तुकार", bn: "স্থপতি" }, tagline: { en: "Imaginative and strategic thinkers, with a plan for everything.", hi: "कल्पनाशील और रणनीतिक विचारक, जिनके पास हर चीज के लिए एक योजना होती है।", bn: "কল্পনাপ্রবণ এবং কৌশলগত চিন্তাবিদ, যাদের সবকিছুর জন্য একটি পরিকল্পনা আছে।" }, description: { en: "INTJs are fiercely independent minds who crave knowledge and systems. They are defined by their efficiency and capacity for complex, long-term strategizing, preferring logic over emotion.", hi: "INTJ भयंकर रूप से स्वतंत्र दिमाग वाले होते हैं जो ज्ञान और प्रणालियों के लिए तरसते हैं। वे तर्क को भावना से अधिक महत्व देते हुए, अपनी दक्षता और जटिल, दीर्घकालिक रणनीति बनाने की क्षमता से परिभाषित होते हैं।", bn: "INTJ হল প্রচণ্ডভাবে স্বাধীন মন যারা জ্ঞান এবং সিস্টেমের জন্য ক্ষুধার্ত। তারা আবেগ থেকে যুক্তির প্রতি অগ্রাধিকার দিয়ে, তাদের দক্ষতা এবং জটিল, দীর্ঘমেয়াদী কৌশল তৈরির ক্ষমতা দ্বারা সংজ্ঞায়িত।" }, characteristics: { en: ["Analytical and Logical", "Independent and Decisive", "High-functioning Perfectionism", "Value Intelligence"], hi: ["विश्लेषणात्मक और तार्किक", "स्वतंत्र और निर्णायक", "उच्च-कार्यशील पूर्णतावाद", "बुद्धिमत्ता को महत्व देते हैं"], bn: ["বিশ্লেষণাত্মক এবং যৌক্তিক", "স্বাধীন এবং সিদ্ধান্তমূলক", "উচ্চ-কার্যকরী পূর্ণতা", "বুদ্ধিমত্তার মূল্য দেন"] } },
            INTP: { title: { en: "The Logician", hi: "तर्कशास्त्री", bn: "যুক্তিবিদ" }, tagline: { en: "Innovative inventors with an unquenchable thirst for knowledge.", hi: "ज्ञान के लिए एक अतृप्त प्यास वाले नवीन आविष्कारक।", bn: "জ্ঞানের জন্য এক অতৃপ্ত তৃষ্ণা সহ উদ্ভাবনী আবিষ্কারক।" }, description: { en: "INTPs are highly theoretical and intellectual. They love patterns and tend to see the world as a complex machine that they must understand. They are open-minded and analytical.", hi: "INTPs अत्यधिक सैद्धांतिक और बौद्धिक होते हैं। वे पैटर्न से प्यार करते हैं और दुनिया को एक जटिल मशीन के रूप में देखते हैं जिसे उन्हें समझना चाहिए। वे खुले विचारों वाले और विश्लेषणात्मक होते हैं।", bn: "INTPs অত্যন্ত তাত্ত্বিক এবং বুদ্ধিদীপ্ত। তারা প্যাটার্ন ভালোবাসে এবং বিশ্বকে একটি জটিল মেশিন হিসাবে দেখতে ঝোঁক যা তাদের অবশ্যই বুঝতে হবে। তারা মুক্তমনা এবং বিশ্লেষণাত্মক।" }, characteristics: { en: ["Brilliant Theorists", "Flexible and Original", "Reserved and Private", "Detached and Objective"], hi: ["शानदार सिद्धांतकार", "लचीले और मौलिक", "आरक्षित और निजी", "अलग और वस्तुनिष्ठ"], bn: ["মেধাবী তাত্ত্বিক", "নমনীয় এবং মৌলিক", "সংরক্ষিত এবং ব্যক্তিগত", "বিচ্ছিন্ন এবং উদ্দেশ্যমূলক"] } },
            ENTJ: { title: { en: "The Commander", hi: "सेनापति", bn: "সেনাপতি" }, tagline: { en: "Bold, imaginative, and strong-willed leaders, always finding a way—or making one.", hi: "साहसी, कल्पनाशील, और दृढ़-इच्छाशक्ति वाले नेता, हमेशा एक रास्ता खोजते हैं—या बनाते हैं।", bn: "সাহসী, কল্পনাপ্রবণ, এবং দৃঢ়-ইচ্ছাশক্তি সম্পন্ন নেতা, সবসময় একটি উপায় খুঁজে নেন — বা তৈরি করেন।" }, description: { en: "ENTJs are natural-born leaders. They embody confidence and project authority, leveraging their rational mind to organize people and resources to achieve challenging goals.", hi: "ENTJ स्वाभाविक रूप से नेता होते हैं। वे आत्मविश्वास का प्रतीक होते हैं और अधिकार का प्रदर्शन करते हैं, चुनौतीपूर्ण लक्ष्यों को प्राप्त करने के लिए लोगों और संसाधनों को व्यवस्थित करने के लिए अपने तर्कसंगत दिमाग का लाभ उठाते हैं।", bn: "ENTJ হল জন্মগত নেতা। তারা আত্মবিশ্বাসের প্রতীক এবং কর্তৃত্ব প্রকাশ করে, চ্যালেঞ্জিং লক্ষ্য অর্জনের জন্য মানুষ এবং সম্পদ সংগঠিত করার জন্য তাদের যুক্তিযুক্ত মন ব্যবহার করে।" }, characteristics: { en: ["Efficient and Determined", "Charismatic Leadership", "Strategic and Goal-Oriented", "Highly Confident"], hi: ["कुशल और दृढ़", "करिश्माई नेतृत्व", "रणनीतिक और लक्ष्य-उन्मुख", "अत्यधिक आत्मविश्वास"], bn: ["দক্ষ এবং দৃঢ়সংকল্পবদ্ধ", "আকর্ষণীয় নেতৃত্ব", "কৌশলগত এবং লক্ষ্য-ভিত্তিক", "অত্যন্ত আত্মবিশ্বাসী"] } },
            ENTP: { title: { en: "The Debater", hi: "वाद-विवादक", bn: "বিতর্ককারী" }, tagline: { en: "Smart and curious thinkers who cannot resist an intellectual challenge.", hi: "स्मार्ट और जिज्ञासु विचारक जो बौद्धिक चुनौती का विरोध नहीं कर सकते।", bn: "স্মার্ট এবং কৌতূহলী চিন্তাবিদ যারা একটি বুদ্ধিদীপ্ত চ্যালেঞ্জ প্রতিরোধ করতে পারে না।" }, description: { en: "ENTPs enjoy the process of mental sparring and brainstorming. They are quick-witted, knowledgeable, and capable of seeing all sides of an argument, often playing the 'devil's advocate' to push boundaries.", hi: "ENTPs मानसिक बहस और विचार-मंथन की प्रक्रिया का आनंद लेते हैं। वे तेज़-तर्रार, जानकार और एक तर्क के सभी पक्षों को देखने में सक्षम होते हैं, अक्सर सीमाओं को आगे बढ़ाने के लिए 'शैतान के वकील' की भूमिका निभाते हैं।", bn: "ENTP মানসিক দ্বন্দ্ব এবং চিন্তাভাবনার প্রক্রিয়া উপভোগ করেন। তারা দ্রুত বুদ্ধি সম্পন্ন, জ্ঞানী, এবং একটি যুক্তির সমস্ত দিক দেখতে সক্ষম, প্রায়শই সীমানা অতিক্রম করার জন্য 'শয়তানের উকিল'-এর ভূমিকা পালন করে।" }, characteristics: { en: ["Quick-witted and Clever", "Challenging and Curious", "Excellent Brainstormers", "Energetic and Enthusiastic"], hi: ["तेज़-तर्रार और चतुर", "चुनौतीपूर्ण और जिज्ञासु", "उत्कृष्ट विचार-मंथनकर्ता", "ऊर्जावान और उत्साही"], bn: ["দ্রুত বুদ্ধিমান এবং চালাক", "চ্যালেঞ্জিং এবং কৌতূহলী", "দুর্দান্ত চিন্তাবিদ", "উদ্যমী এবং উত্সাহী"] } },

            // Diplomats
            INFJ: { title: { en: "The Advocate", hi: "सलाहकार", bn: "পক্ষসমর্থক" }, tagline: { en: "Quiet, mystical, yet very inspiring and tireless idealists.", hi: "शांत, रहस्यमय, फिर भी बहुत प्रेरणादायक और अथक आदर्शवादी।", bn: "শান্ত, রহস্যময়, তবুও অত্যন্ত অনুপ্রেরণাদায়ক এবং অক্লান্ত আদর্শবাদী।" }, description: { en: "INFJs tend to approach life with deep thoughtfulness and imagination, making every effort count. They are defined by their strong principles and tendency to motivate others toward a better future.", hi: "INFJ गहरे विचार और कल्पना के साथ जीवन के पास जाते हैं, जिससे हर प्रयास मायने रखता है। वे अपने मजबूत सिद्धांतों और दूसरों को एक बेहतर भविष्य की ओर प्रेरित करने की प्रवृत्ति से परिभाषित होते हैं।", bn: "INFJ গভীর চিন্তাভাবনা এবং কল্পনা সহ জীবনকে দেখেন, প্রতিটি প্রচেষ্টাকে গুরুত্বপূর্ণ করে তোলেন। তারা তাদের দৃঢ় নীতি এবং একটি উন্নত ভবিষ্যতের দিকে অন্যদের অনুপ্রাণিত করার প্রবণতা দ্বারা সংজ্ঞায়িত হয়।" }, characteristics: { en: ["Insightful and Creative", "Principled and Altruistic", "Decisive and Passionate", "Seek meaning and depth"], hi: ["अंतर्दृष्टिपूर्ण और रचनात्मक", "सिद्धांतवादी और परोपकारी", "निर्णायक और भावुक", "अर्थ और गहराई की तलाश"], bn: ["অন্তর্দৃষ্টিপূর্ণ এবং সৃজনশীল", "নীতিগত এবং পরোপকারী", "সিদ্ধান্তমূলক এবং আবেগপ্রবণ", "অর্থ এবং গভীরতা খোঁজেন"] } },
            INFP: { title: { en: "The Mediator", hi: "मध्यस्थ", bn: "মধ্যস্থতাকারী" }, tagline: { en: "Poetic, kind, and altruistic people, always eager to help a good cause.", hi: "काव्यात्मक, दयालु, और परोपकारी लोग, हमेशा एक अच्छे कारण में मदद करने के लिए उत्सुक।", bn: "কাব্যিক, দয়ালু, এবং পরোপকারী মানুষ, সবসময় একটি ভালো কারণে সাহায্য করতে আগ্রহী।" }, description: { en: "INFPs are quiet and unassuming, yet they possess a fiery inner passion and strong moral compass. They guide their lives by their core values, seeking harmony and authenticity in the world.", hi: "INFPs शांत और विनम्र होते हैं, फिर भी उनमें एक जोशीला आंतरिक जुनून और मजबूत नैतिक कम्पास होता है। वे दुनिया में सद्भाव और प्रामाणिकता की तलाश करते हुए अपने मूल मूल्यों द्वारा अपने जीवन का मार्गदर्शन करते हैं।", bn: "INFPs শান্ত এবং বিনয়ী, তবুও তাদের মধ্যে একটি জ্বলন্ত অভ্যন্তরীণ আবেগ এবং শক্তিশালী নৈতিক কম্পাস রয়েছে। তারা তাদের মূল মূল্যবোধ দ্বারা তাদের জীবন পরিচালনা করে, বিশ্বে সম্প্রীতি এবং সত্যতা খোঁজেন।" }, characteristics: { en: ["Idealistic and Empathetic", "Dedicated and Hardworking", "Private and Reserved", "Value Harmony"], hi: ["आदर्शवादी और सहानुभूतिपूर्ण", "समर्पित और मेहनती", "निजी और आरक्षित", "सद्भाव को महत्व देते हैं"], bn: ["আদর্শবাদী এবং সহানুভূতিশীল", "নিবেদিত এবং পরিশ্রমী", "ব্যক্তিগত এবং সংরক্ষিত", "সম্প্রীতির মূল্য দেন"] } },
            ENFJ: { title: { en: "The Protagonist", hi: "नायक", bn: "নায়ক" }, tagline: { en: "Charismatic and inspiring leaders, able to mesmerize their listeners.", hi: "करिश्माई और प्रेरणादायक नेता, अपने श्रोताओं को मंत्रमुग्ध करने में सक्षम।", bn: "আকর্ষণীয় এবং অনুপ্রেরণাদায়ক নেতা, যারা তাদের শ্রোতাদের মুগ্ধ করতে সক্ষম।" }, description: { en: "ENFJs feel a profound sense of responsibility for their fellow human beings. They are driven by altruism, leading with passion and inspiring others to be their best selves.", hi: "ENFJs अपने साथी मनुष्यों के लिए जिम्मेदारी की गहरी भावना महसूस करते हैं। वे परोपकार से प्रेरित होते हैं, जुनून के साथ नेतृत्व करते हैं और दूसरों को उनके सर्वश्रेष्ठ बनने के लिए प्रेरित करते हैं।", bn: "ENFJ তাদের সহকর্মী মানুষের জন্য গভীর দায়িত্ববোধ অনুভব করেন। তারা পরোপকার দ্বারা চালিত, আবেগের সাথে নেতৃত্ব দেন এবং অন্যদের তাদের সেরা আত্ম হতে অনুপ্রাণিত করেন।" }, characteristics: { en: ["Tolerant and Reliable", "Influential and Passionate", "Natural Born Leaders", "Excellent Communicators"], hi: ["सहिष्णु और भरोसेमंद", "प्रभावशाली और भावुक", "स्वाभाविक नेता", "उत्कृष्ट संचारक"], bn: ["সহনশীল এবং নির্ভরযোগ্য", "প্রভাবশালী এবং আবেগপ্রবণ", "স্বাভাবিক নেতা", "দুর্দান্ত যোগাযোগকারী"] } },
            ENFP: { title: { en: "The Campaigner", hi: "अभियानकर्ता", bn: "প্রচারক" }, tagline: { en: "Enthusiastic, creative, and sociable free spirits, who can always find a reason to smile.", hi: "उत्साही, रचनात्मक, और मिलनसार मुक्त आत्माएँ, जो हमेशा मुस्कुराने का कारण खोज सकते हैं।", bn: "উদ্যমী, সৃজনশীল, এবং মিশুক মুক্ত আত্মা, যারা সবসময় হাসার কারণ খুঁজে নিতে পারে।" }, description: { en: "ENFPs are true free spirits—extroverted, intuitive, feeling, and perceptive. They thrive on human connection, believing that anything is possible with enough enthusiasm and curiosity.", hi: "ENFPs सच्चे मुक्त आत्माएँ हैं—बहिर्मुखी, सहज, भावुक, और बोधगम्य। वे मानवीय संबंध पर पनपते हैं, यह मानते हुए कि पर्याप्त उत्साह और जिज्ञासा के साथ कुछ भी संभव है।", bn: "ENFP হল সত্যিকারের মুক্ত আত্মা—বহির্মুখী, স্বজ্ঞাত, অনুভূতিশীল, এবং উপলব্ধিশীল। তারা মানব সংযোগে উন্নতি লাভ করে, বিশ্বাস করে যে পর্যাপ্ত উত্সাহ এবং কৌতূহল দিয়ে সবকিছুই সম্ভব।" }, characteristics: { en: ["Curious and Observant", "Energetic and Popular", "Excellent People Skills", "Great Improvisers"], hi: ["जिज्ञासु और चौकस", "ऊर्जावान और लोकप्रिय", "उत्कृष्ट लोग कौशल", "महान तात्कालिक"], bn: ["কৌতূহলী এবং পর্যবেক্ষণশীল", "উদ্যমী এবং জনপ্রিয়", "দুর্দান্ত মানুষের দক্ষতা", "মহান তাৎক্ষণিক"] } },

            // Sentinels
            ISTJ: { title: { en: "The Logistician", hi: "लॉजिस्टिशियन", bn: "লজিস্টিকিয়ান" }, tagline: { en: "Practical and fact-minded individuals, whose reliability cannot be doubted.", hi: "व्यावहारिक और तथ्य-दिमाग वाले व्यक्ति, जिनकी विश्वसनीयता पर संदेह नहीं किया जा सकता।", bn: "ব্যবহারিক এবং তথ্য-মনোভাবাপন্ন ব্যক্তি, যাদের নির্ভরযোগ্যতা নিয়ে সন্দেহ করা যায় না।" }, description: { en: "ISTJs are grounded in reality and driven by a strong sense of duty. They are meticulously organized and thrive in environments where rules, logic, and traditional structure prevail.", hi: "ISTJ वास्तविकता में निहित होते हैं और कर्तव्य की एक मजबूत भावना से प्रेरित होते हैं। वे सावधानीपूर्वक व्यवस्थित होते हैं और उन वातावरणों में पनपते हैं जहाँ नियम, तर्क और पारंपरिक संरचना प्रबल होती है।", bn: "ISTJ বাস্তবে নিহিত এবং কর্তব্যের একটি দৃঢ় অনুভূতি দ্বারা চালিত। তারা সূক্ষ্মভাবে সংগঠিত এবং এমন পরিবেশে উন্নতি লাভ করে যেখানে নিয়ম, যুক্তি এবং ঐতিহ্যগত কাঠামো বিরাজ করে।" }, characteristics: { en: ["Honest and Direct", "Very Responsible", "Calm and Practical", "Orderly and Traditional"], hi: ["ईमानदार और सीधा", "बहुत जिम्मेदार", "शांत और व्यावहारिक", "व्यवस्थित और पारंपरिक"], bn: ["সৎ এবং সরাসরি", "খুব দায়িত্বশীল", "শান্ত এবং ব্যবহারিক", "সুশৃঙ্খল এবং ঐতিহ্যবাহী"] } },
            ISFJ: { title: { en: "The Defender", hi: "रक्षक", bn: "রক্ষক" }, tagline: { en: "Very dedicated and warm protectors, always ready to defend their loved ones.", hi: "बहुत समर्पित और गर्मजोशी वाले संरक्षक, हमेशा अपने प्रियजनों की रक्षा के लिए तैयार।", bn: "খুব নিবেদিত এবং উষ্ণ রক্ষক, সর্বদা তাদের প্রিয়জনদের রক্ষা করতে প্রস্তুত।" }, description: { en: "ISFJs are true altruists, connecting with others through empathy and concern. They are dedicated and hardworking, often quietly supporting those around them without seeking recognition.", hi: "ISFJs सच्चे परोपकारी होते हैं, जो सहानुभूति और चिंता के माध्यम से दूसरों से जुड़ते हैं। वे समर्पित और मेहनती होते हैं, अक्सर चुपचाप मान्यता की तलाश किए बिना अपने आसपास के लोगों का समर्थन करते हैं।", bn: "ISFJ হল সত্যিকারের পরোপকারী, যারা সহানুভূতি এবং উদ্বেগের মাধ্যমে অন্যদের সাথে সংযুক্ত হন। তারা নিবেদিত এবং কঠোর পরিশ্রমী, প্রায়শই স্বীকৃতির সন্ধান না করে নীরবে তাদের চারপাশের মানুষদের সমর্থন করেন।" }, characteristics: { en: ["Supportive and Reliable", "Excellent Observers", "Patient and Loyal", "Warm and Humility"], hi: ["समर्थक और भरोसेमंद", "उत्कृष्ट पर्यवेक्षक", "धैर्यवान और वफादार", "गर्मजोशी और विनम्रता"], bn: ["সমর্থক এবং নির্ভরযোগ্য", "দুর্দান্ত পর্যবেক্ষক", "ধৈর্যশীল এবং অনুগত", "উষ্ণ এবং বিনয়ী"] } },
            ESTJ: { title: { en: "The Executive", hi: "कार्यकारी", bn: "নির্বাহী" }, tagline: { en: "Excellent administrators, unsurpassed at managing things or people.", hi: "उत्कृष्ट प्रशासक, चीजों या लोगों को प्रबंधित करने में अपराजेय।", bn: "দুর্দান্ত প্রশাসক, জিনিস বা মানুষ পরিচালনার ক্ষেত্রে অতুলনীয়।" }, description: { en: "ESTJs represent order, tradition, and organization. They lead by example, exhibiting dedication and honesty. They are pillars of strength, ensuring rules are followed and standards are met.", hi: "ESTJs व्यवस्था, परंपरा और संगठन का प्रतिनिधित्व करते हैं। वे समर्पण और ईमानदारी प्रदर्शित करते हुए उदाहरण के साथ नेतृत्व करते हैं। वे शक्ति के स्तंभ हैं, यह सुनिश्चित करते हुए कि नियमों का पालन किया जाता है और मानकों को पूरा किया जाता है।", bn: "ESTJ শৃঙ্খলা, ঐতিহ্য এবং সংগঠনের প্রতিনিধিত্ব করে। তারা উদাহরণ দিয়ে নেতৃত্ব দেয়, সমর্পণ এবং সততা প্রদর্শন করে। তারা শক্তির স্তম্ভ, নিশ্চিত করে যে নিয়মগুলি অনুসরণ করা হয় এবং মানগুলি পূরণ হয়।" }, characteristics: { en: ["Strong-willed and Direct", "Committed and Reliable", "Orderly and Structured", "Excellent Organizers"], hi: ["दृढ़-इच्छाशक्ति और सीधा", "प्रतिबद्ध और भरोसेमंद", "व्यवस्थित और संरचित", "उत्कृष्ट आयोजक"], bn: ["দৃঢ়-ইচ্ছাশক্তি এবং সরাসরি", "প্রতিশ্রুতিবদ্ধ এবং নির্ভরযোগ্য", "সুশৃঙ্খল এবং কাঠামোগত", "দুর্দান্ত সংগঠক"] } },
            ESFJ: { title: { en: "The Consul", hi: "दूतावास", bn: "দূত" }, tagline: { en: "Extraordinarily caring, social, and popular people, always eager to help.", hi: "असाधारण रूप से देखभाल करने वाले, मिलनसार, और लोकप्रिय लोग, हमेशा मदद करने के लिए उत्सुक।", bn: "অসাধারণ যত্নশীল, সামাজিক, এবং জনপ্রিয় মানুষ, সর্বদা সাহায্য করতে আগ্রহী।" }, description: { en: "ESFJs are social creatures, drawing energy from interacting with others. They are known for their strong social etiquette and desire to serve their communities, upholding social harmony.", hi: "ESFJs सामाजिक प्राणी होते हैं, जो दूसरों के साथ बातचीत से ऊर्जा प्राप्त करते हैं। वे अपने मजबूत सामाजिक शिष्टाचार और अपने समुदायों की सेवा करने की इच्छा के लिए जाने जाते हैं, सामाजिक सद्भाव बनाए रखते हैं।", bn: "ESFJ হল সামাজিক প্রাণী, যারা অন্যদের সাথে মিথস্ক্রিয়া থেকে শক্তি অর্জন করে। তারা তাদের শক্তিশালী সামাজিক শিষ্টাচার এবং তাদের সম্প্রদায়ের সেবা করার আকাঙ্ক্ষার জন্য পরিচিত, সামাজিক সম্প্রীতি বজায় রাখে।" }, characteristics: { en: ["Outgoing and Loyal", "Supportive and Warm", "Conscientious and Practical", "Community-Focused"], hi: ["बहिर्मुखी और वफादार", "समर्थक और गर्मजोशी", "ईमानदार और व्यावहारिक", "समुदाय-केंद्रित"], bn: ["বহির্গামী এবং অনুগত", "সমর্থক এবং উষ্ণ", "সচেতন এবং ব্যবহারিক", "সম্প্রদায়-কেন্দ্রিক"] } },

            // Explorers
            ISTP: { title: { en: "The Virtuoso", hi: "गुणी", bn: "গুণী" }, tagline: { en: "Bold and practical experimenters, masters of all kinds of tools.", hi: "साहसी और व्यावहारिक प्रयोगकर्ता, सभी प्रकार के उपकरणों के स्वामी।", bn: "সাহসী এবং ব্যবহারিক পরীক্ষক, সকল প্রকার সরঞ্জামের ওস্তাদ।" }, description: { en: "ISTPs are masters of pragmatic action. They love to explore and experiment, viewing the world as a hands-on playground where they can tinker and fix things with calm, detached logic.", hi: "ISTP व्यावहारिक कार्रवाई के स्वामी होते हैं। वे अन्वेषण और प्रयोग करना पसंद करते हैं, दुनिया को एक हाथों से खेलने का मैदान मानते हैं जहाँ वे शांत, अलग तर्क के साथ चीजों को ठीक कर सकते हैं।", bn: "ISTP হল বাস্তববাদী কর্মের ওস্তাদ। তারা অন্বেষণ এবং পরীক্ষা করতে ভালোবাসে, বিশ্বকে একটি হাতে-কলমে খেলার মাঠ হিসাবে দেখে যেখানে তারা শান্ত, বিচ্ছিন্ন যুক্তি দিয়ে জিনিসপত্র মেরামত করতে পারে।" }, characteristics: { en: ["Practical and Realistic", "Bold and Adventurous", "Analytical and Logical", "Reserved but Curious"], hi: ["व्यावहारिक और यथार्थवादी", "साहसी और साहसिक", "विश्लेषणात्मक और तार्किक", "आरक्षित लेकिन जिज्ञासु"], bn: ["ব্যবহারিক এবং বাস্তববাদী", "সাহসী এবং দু:সাহসী", "বিশ্লেষণাত্মক এবং যৌক্তিক", "সংরক্ষিত কিন্তু কৌতূহলী"] } },
            ISFP: { title: { en: "The Adventurer", hi: "साहसी", bn: "অভিযাত্রী" }, tagline: { en: "Flexible and charming artists, always ready to explore and experience new things.", hi: "लचीले और आकर्षक कलाकार, हमेशा नई चीजों का अन्वेषण करने और अनुभव करने के लिए तैयार।", bn: "নমনীয় এবং মনোমুগ্ধকর শিল্পী, সর্বদা নতুন জিনিস অন্বেষণ করতে এবং অভিজ্ঞতা নিতে প্রস্তুত।" }, description: { en: "ISFPs are true artists who use aesthetics, design, and choices to push the limits of social convention. They are sensitive, introspective, and highly value personal freedom.", hi: "ISFPs सच्चे कलाकार हैं जो सामाजिक परंपरा की सीमाओं को आगे बढ़ाने के लिए सौंदर्यशास्त्र, डिजाइन और विकल्पों का उपयोग करते हैं। वे संवेदनशील, आत्मनिरीक्षणशील और व्यक्तिगत स्वतंत्रता को अत्यधिक महत्व देते हैं।", bn: "ISFP হল সত্যিকারের শিল্পী যারা সামাজিক রীতির সীমানা অতিক্রম করতে নান্দনিকতা, নকশা এবং পছন্দ ব্যবহার করেন। তারা সংবেদনশীল, অন্তর্মুখী এবং ব্যক্তিগত স্বাধীনতার প্রতি অত্যন্ত মূল্য দেন।" }, characteristics: { en: ["Charming and Creative", "Passionate and Spontaneous", "Flexible and Tolerant", "Attuned to Aesthetics"], hi: ["आकर्षक और रचनात्मक", "भावुक और सहज", "लचीले और सहिष्णु", "सौंदर्यशास्त्र के प्रति संवेदनशील"], bn: ["মনোমুগ্ধকর এবং সৃজনশীল", "আবেগপ্রবণ এবং স্বতঃস্ফূর্ত", "নমনীয় এবং সহনশীল", "নান্দনিকতার প্রতি সংবেদনশীল"] } },
            ESTP: { title: { en: "The Entrepreneur", hi: "उद्यमी", bn: "উদ্যোক্তা" }, tagline: { en: "Smart, energetic, and very perceptive people who truly enjoy living on the edge.", hi: "स्मार्ट, ऊर्जावान, और बहुत समझदार लोग जो वास्तव में किनारे पर रहना पसंद करते हैं।", bn: "স্মার্ট, উদ্যমী, এবং খুব সচেতন মানুষ যারা সত্যিই প্রান্তের জীবন উপভোগ করেন।" }, description: { en: "ESTPs are action-oriented individuals who thrive in the moment. They are observant and rational, quickly identifying problems and applying practical solutions. They are magnetic and often the life of the party.", hi: "ESTP कार्रवाई-उन्मुख व्यक्ति होते हैं जो वर्तमान क्षण में पनपते हैं। वे चौकस और तर्कसंगत होते हैं, जल्दी से समस्याओं की पहचान करते हैं और व्यावहारिक समाधान लागू करते हैं। वे चुंबकीय होते हैं और अक्सर पार्टी की जान होते हैं।", bn: "ESTP হল কর্ম-ভিত্তিক ব্যক্তি যারা মুহূর্তে উন্নতি লাভ করে। তারা পর্যবেক্ষণশীল এবং যুক্তিসঙ্গত, দ্রুত সমস্যা চিহ্নিত করে এবং বাস্তব সমাধান প্রয়োগ করে। তারা চুম্বকীয় এবং প্রায়শই পার্টির প্রাণ হন।" }, characteristics: { en: ["Daring and Bold", "Practical and Direct", "Excellent improvisers", "Focused on the present"], hi: ["साहसी और बोल्ड", "व्यावहारिक और सीधा", "उत्कृष्ट तात्कालिक", "वर्तमान पर केंद्रित"], bn: ["সাহসী এবং নির্ভীক", "ব্যবহারিক এবং সরাসরি", "দুর্দান্ত তাৎক্ষণিক", "বর্তমানে নিবদ্ধ"] } },
            ESFP: { title: { en: "The Entertainer", hi: "मनोरंजनकर्ता", bn: "বিনোদনকারী" }, tagline: { en: "Spontaneous, energetic, and enthusiastic people—life is never boring around them.", hi: "सहज, ऊर्जावान, और उत्साही लोग—उनके आस-पास जीवन कभी उबाऊ नहीं होता।", bn: "স্বতঃস্ফূর্ত, উদ্যমী, এবং উত্সাহী মানুষ—তাদের আশেপাশে জীবন কখনও বিরক্তিকর হয় না।" }, description: { en: "ESFPs love the spotlight and live to entertain. They are spontaneous, outgoing, and thrive on social interaction, using their warmth and energy to pull others into the excitement of the moment.", hi: "ESFPs सुर्खियों से प्यार करते हैं और मनोरंजन के लिए जीते हैं। वे सहज, बहिर्मुखी हैं, और सामाजिक संपर्क पर पनपते हैं, अपनी गर्मजोशी और ऊर्जा का उपयोग करके दूसरों को क्षण के उत्साह में खींचते हैं।", bn: "ESFP আলো ভালোবাসে এবং বিনোদনের জন্য বাঁচে। তারা স্বতঃস্ফূর্ত, বহির্গামী, এবং সামাজিক মিথস্ক্রিয়ায় উন্নতি লাভ করে, তাদের উষ্ণতা এবং শক্তি ব্যবহার করে অন্যদের মুহূর্তের উত্তেজনায় টেনে আনে।" }, characteristics: { en: ["Bold and Original", "Observant and Practical", "Excellent People Skills", "Spontaneous and Fun"], hi: ["साहसी और मौलिक", "चौकस और व्यावहारिक", "उत्कृष्ट लोग कौशल", "सहज और मजेदार"], bn: ["সাহসী এবং মৌলিক", "পর্যবেক্ষণশীল এবং ব্যবহারিক", "দুর্দান্ত মানুষের দক্ষতা", "স্বতঃস্ফূর্ত এবং মজাদার"] } },
        
            // I'm skipping the rest of the 16 types for brevity, filling the gaps to ensure the code structure is correct.
            // Example placeholders for remaining types for code completeness
            // ISFP, ISTJ, ESTJ, ESFJ... (already provided above)
            // ENFP, ENFJ, INFP, INFJ... (already provided above)
            // INTJ, INTP, ENTJ, ENTP... (already provided above)
            
            // Adding a few more to hit 16 for a real scenario
            ESTP_EXTRA: { title: { en: "The Entrepreneur", hi: "उद्यमी", bn: "উদ্যোক্তা" }, tagline: { en: "Smart, energetic, and very perceptive people who truly enjoy living on the edge.", hi: "स्मार्ट, ऊर्जावान, और बहुत समझदार लोग जो वास्तव में किनारे पर रहना पसंद करते हैं।", bn: "স্মার্ট, উদ্যমী, এবং খুব সচেতন মানুষ যারা সত্যিই প্রান্তের জীবন উপভোগ করেন।" }, description: { en: "ESTPs are action-oriented individuals who thrive in the moment. They are observant and rational, quickly identifying problems and applying practical solutions. They are magnetic and often the life of the party.", hi: "ESTP कार्रवाई-उन्मुख व्यक्ति होते हैं जो वर्तमान क्षण में पनपते हैं। वे चौकस और तर्कसंगत होते हैं, जल्दी से समस्याओं की पहचान करते हैं और व्यावहारिक समाधान लागू करते हैं। वे चुंबकीय होते हैं और अक्सर पार्टी की जान होते हैं।", bn: "ESTP হল কর্ম-ভিত্তিক ব্যক্তি যারা মুহূর্তে উন্নতি লাভ করে। তারা পর্যবেক্ষণশীল এবং যুক্তিসঙ্গত, দ্রুত সমস্যা চিহ্নিত করে এবং বাস্তব সমাধান প্রয়োগ করে। তারা চুম্বকীয় এবং প্রায়শই পার্টির প্রাণ হন।" }, characteristics: { en: ["Daring and Bold", "Practical and Direct", "Excellent improvisers", "Focused on the present"], hi: ["साहसी और बोल्ड", "व्यावहारिक और सीधा", "उत्कृष्ट तात्कालिक", "বর্তমান पर केंद्रित"], bn: ["সাহসী এবং নির্ভীক", "ব্যবহারিক এবং সরাসরি", "দুর্দান্ত তাৎক্ষণিক", "বর্তমানে নিবদ্ধ"] } },
            // ... (fill the remaining 8 types with unique data if this were a production app)
            // For this implementation, the 8 provided are sufficient to test the structure.
        };

        // --- Data Objects (questionPool) ---
        // Total 30 questions: 7 EI, 7 SN, 8 TF, 8 JP
        // Options: 4: Trait:2 / Opposite:2, 3: Trait:1 / Opposite:1
        const questionPool = {
            // Extraversion (E) vs Introversion (I) - 7 Questions
            EI: [
                { q: { en: "I enjoy being the center of attention in social settings.", hi: "मुझे सामाजिक सेटिंग्स में ध्यान का केंद्र बनना पसंद है।", bn: "আমি সামাজিক পরিবেশে মনোযোগের কেন্দ্রবিন্দু হতে উপভোগ করি।" }, trait: 'E' },
                { q: { en: "I often prefer to spend time alone with my thoughts.", hi: "मैं अक्सर अपने विचारों के साथ अकेले समय बिताना पसंद करता हूँ।", bn: "আমি প্রায়শই আমার চিন্তাভাবনার সাথে একা সময় কাটাতে পছন্দ করি।" }, trait: 'I' },
                { q: { en: "I find long, uninterrupted stretches of solitude dull.", hi: "मुझे लंबे, निर्बाध एकांत के दौर नीरस लगते हैं।", bn: "আমি দীর্ঘ, নিরবচ্ছিন্ন নির্জনতা বিরক্তিকর মনে করি।" }, trait: 'E' },
                { q: { en: "I prefer working on a small, focused team rather than a large one.", hi: "मैं एक बड़ी टीम के बजाय एक छोटी, केंद्रित टीम पर काम करना पसंद करता हूँ।", bn: "আমি একটি বড় দলের চেয়ে একটি ছোট, মনোযোগী দলের উপর কাজ করতে পছন্দ করি।" }, trait: 'I' },
                { q: { en: "I feel energized after spending time with a large group of people.", hi: "लोगों के एक बड़े समूह के साथ समय बिताने के बाद मैं ऊर्जावान महसूस करता हूँ।", bn: "মানুষের একটি বড় দলের সাথে সময় কাটানোর পরে আমি চাঙ্গা অনুভব করি।" }, trait: 'E' },
                { q: { en: "I find it easy to start conversations with strangers.", hi: "मुझे अजनबियों के साथ बातचीत शुरू करना आसान लगता है।", bn: "আমার কাছে অপরিচিতদের সাথে কথা শুরু করা সহজ মনে হয়।" }, trait: 'E' },
                { q: { en: "I often pause to think before speaking.", hi: "मैं बोलने से पहले सोचने के लिए अक्सर रुकता हूँ।", bn: "আমি কথা বলার আগে প্রায়শই চিন্তা করার জন্য থামি।" }, trait: 'I' }
            ],
            // Sensing (S) vs Intuition (N) - 7 Questions
            SN: [
                { q: { en: "I rely more on experience than imagination.", hi: "मैं कल्पना से ज्यादा अनुभव पर निर्भर करता हूँ।", bn: "আমি কল্পনার চেয়ে অভিজ্ঞতার উপর বেশি নির্ভর করি।" }, trait: 'S' },
                { q: { en: "I am more interested in theoretical discussions than practical applications.", hi: "मैं व्यावहारिक अनुप्रयोगों की तुलना में सैद्धांतिक चर्चाओं में अधिक रुचि रखता हूँ।", bn: "আমি ব্যবহারিক প্রয়োগের চেয়ে তাত্ত্বিক আলোচনায় বেশি আগ্রহী।" }, trait: 'N' },
                { q: { en: "I often get lost in thought when focusing on the present moment.", hi: "वर्तमान क्षण पर ध्यान केंद्रित करते समय मैं अक्सर विचारों में खो जाता हूँ।", bn: "বর্তমান মুহূর্তের উপর মনোযোগ দেওয়ার সময় আমি প্রায়শই চিন্তায় হারিয়ে যাই।" }, trait: 'N' },
                { q: { en: "I focus on what is real and concrete.", hi: "मैं जो वास्तविक और मूर्त है, उस पर ध्यान केंद्रित करता हूँ।", bn: "আমি যা বাস্তব এবং মূর্ত, তার উপর মনোযোগ দিই।" }, trait: 'S' },
                { q: { en: "I enjoy thinking about future possibilities and abstract ideas.", hi: "मैं भविष्य की संभावनाओं और अमूर्त विचारों के बारे में सोचना पसंद करता हूँ।", bn: "আমি ভবিষ্যতের সম্ভাবনা এবং বিমূর্ত ধারণা সম্পর্কে ভাবতে উপভোগ করি।" }, trait: 'N' },
                { q: { en: "I notice details and facts that others often miss.", hi: "मैं उन विवरणों और तथ्यों पर ध्यान देता हूँ जिन्हें दूसरे अक्सर चूक जाते हैं।", bn: "আমি এমন বিবরণ এবং তথ্য লক্ষ্য করি যা অন্যরা প্রায়শই উপেক্ষা করে।" }, trait: 'S' },
                { q: { en: "I follow my instincts more than proven methodology.", hi: "मैं सिद्ध कार्यप्रणाली की तुलना में अपनी सहज प्रवृत्ति का अधिक अनुसरण करता हूँ।", bn: "আমি প্রমাণিত পদ্ধতির চেয়ে আমার সহজাত প্রবৃত্তিকে বেশি অনুসরণ করি।" }, trait: 'N' }
            ],
            // Thinking (T) vs Feeling (F) - 8 Questions
            TF: [
                { q: { en: "I value objectivity and logic over personal feelings when making decisions.", hi: "निर्णय लेते समय मैं व्यक्तिगत भावनाओं की तुलना में निष्पक्षता और तर्क को महत्व देता हूँ।", bn: "সিদ্ধান্ত নেওয়ার সময় আমি ব্যক্তিগত অনুভূতির চেয়ে বস্তুনিষ্ঠতা এবং যুক্তির মূল্য দিই।" }, trait: 'T' },
                { q: { en: "I am easily moved by the emotional stories of others.", hi: "मैं दूसरों की भावनात्मक कहानियों से आसानी से प्रभावित हो जाता हूँ।", bn: "আমি অন্যদের আবেগপূর্ণ গল্পে সহজেই প্রভাবিত হই।" }, trait: 'F' },
                { q: { en: "I often prioritize mercy over justice.", hi: "मैं अक्सर न्याय पर दया को प्राथमिकता देता हूँ।", bn: "আমি প্রায়শই ন্যায়বিচারের চেয়ে দয়াকে অগ্রাধিকার দিই।" }, trait: 'F' },
                { q: { en: "I believe that logical consistency is more important than being considerate.", hi: "मेरा मानना है कि विचारशील होने की तुलना में तार्किक संगति अधिक महत्वपूर्ण है।", bn: "আমি বিশ্বাস করি যে বিবেচনাশীল হওয়ার চেয়ে যৌক্তিক ধারাবাহিকতা বেশি গুরুত্বপূর্ণ।" }, trait: 'T' },
                { q: { en: "I often spend time trying to understand why people feel the way they do.", hi: "मैं अक्सर यह समझने में समय बिताता हूँ कि लोग ऐसा क्यों महसूस करते हैं।", bn: "আমি প্রায়শই এইটা বোঝার চেষ্টা করে সময় কাটাই যে মানুষ কেন এমন অনুভব করে।" }, trait: 'F' },
                { q: { en: "I am comfortable causing emotional upset to prove a point.", hi: "मैं एक बिंदु साबित करने के लिए भावनात्मक परेशानी पैदा करने में सहज हूँ।", bn: "আমি একটি বিষয় প্রমাণ করার জন্য মানসিক কষ্ট দিতে স্বাচ্ছন্দ্যবোধ করি।" }, trait: 'T' },
                { q: { en: "I aim to please others and avoid confrontation.", hi: "मैं दूसरों को खुश करने और टकराव से बचने का लक्ष्य रखता हूँ।", bn: "আমি অন্যদের খুশি করতে এবং সংঘাত এড়াতে লক্ষ্য রাখি।" }, trait: 'F' },
                { q: { en: "I solve problems using analysis, not empathy.", hi: "मैं सहानुभूति से नहीं, विश्लेषण का उपयोग करके समस्याओं का समाधान करता हूँ।", bn: "আমি সহানুভূতি দ্বারা নয়, বিশ্লেষণ ব্যবহার করে সমস্যার সমাধান করি।" }, trait: 'T' }
            ],
            // Judging (J) vs Perceiving (P) - 8 Questions
            JP: [
                { q: { en: "I prefer to have a concrete plan rather than spontaneously adapt.", hi: "मैं अनायास अनुकूलन के बजाय एक ठोस योजना बनाना पसंद करता हूँ।", bn: "আমি স্বতঃস্ফূর্তভাবে মানিয়ে নেওয়ার চেয়ে একটি সুনির্দিষ্ট পরিকল্পনা রাখতে পছন্দ করি।" }, trait: 'J' },
                { q: { en: "I tend to leave my options open and see what happens.", hi: "मैं अपने विकल्पों को खुला रखने और देखने की प्रवृत्ति रखता हूँ कि क्या होता है।", bn: "আমি আমার বিকল্পগুলিকে খোলা রাখতে এবং কি ঘটে তা দেখতে ঝোঁক রাখি।" }, trait: 'P' },
                { q: { en: "I feel stressed when things are disorganized and unplanned.", hi: "जब चीजें अव्यवस्थित और अनियोजित होती हैं तो मुझे तनाव महसूस होता है।", bn: "যখন জিনিসপত্র অসংগঠিত এবং অপরিকল্পিত হয় তখন আমি চাপ অনুভব করি।" }, trait: 'J' },
                { q: { en: "I am a flexible person who goes with the flow.", hi: "मैं एक लचीला व्यक्ति हूँ जो प्रवाह के साथ चलता है।", bn: "আমি একজন নমনীয় ব্যক্তি যে স্রোতের সাথে চলে।" }, trait: 'P' },
                { q: { en: "I always complete tasks long before the deadline.", hi: "मैं हमेशा समय सीमा से काफी पहले कार्य पूरे करता हूँ।", bn: "আমি সবসময় সময়সীমার অনেক আগে কাজ শেষ করি।" }, trait: 'J' },
                { q: { en: "I often procrastinate until the last possible moment.", hi: "मैं अक्सर अंतिम संभव क्षण तक टालमटोल करता हूँ।", bn: "আমি প্রায়শই শেষ সম্ভাব্য মুহূর্ত পর্যন্ত বিলম্ব করি।" }, trait: 'P' },
                { q: { en: "I organize my life and workspace meticulously.", hi: "मैं अपने जीवन और कार्यक्षेत्र को सावधानीपूर्वक व्यवस्थित करता हूँ।", bn: "আমি আমার জীবন এবং কর্মক্ষেত্রকে যত্ন সহকারে সংগঠিত করি।" }, trait: 'J' },
                { q: { en: "Making decisions quickly feels constraining.", hi: "जल्दी निर्णय लेना मुझे बाध्यकारी लगता है।", bn: "তাড়াতাড়ি সিদ্ধান্ত নেওয়া আমাকে সীমাবদ্ধ মনে হয়।" }, trait: 'P' }
            ]
        };


        // --- Core Functions ---

        /**
         * Utility function to shuffle an array.
         * @param {Array} array 
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Switches the application language and updates all i18n keys.
         * @param {string} lang - 'en', 'hi', or 'bn'.
         */
        function setLanguage(lang) {
            if (TOTAL_QUESTIONS > 0 && currentQuestionIndex > 0) {
                if (!window.confirm(i18n[currentLang].alert_confirm_reset)) {
                    return;
                }
            }

            currentLang = lang;
            document.documentElement.lang = lang;

            // Update all elements with data-i18n-key
            document.querySelectorAll('[data-i18n-key]').forEach(el => {
                const key = el.getAttribute('data-i18n-key');
                if (i18n[lang][key]) {
                    el.textContent = i18n[lang][key];
                }
            });

            // Update placeholders
            document.querySelectorAll('[data-i18n-placeholder-key]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder-key');
                if (i18n[lang][key]) {
                    el.placeholder = i18n[lang][key];
                }
            });

            // Update the document title
            document.title = i18n[lang].page_title;

            // Update active state on buttons
            document.querySelectorAll('.lang-switcher button').forEach(button => {
                button.classList.remove('active');
            });
            document.getElementById(`lang-${lang}`).classList.add('active');

            // If a quiz was active, reset it to ensure data consistency
            if (TOTAL_QUESTIONS > 0) {
                 resetQuiz();
            }
        }

        /**
         * Resets all state and returns to the start screen.
         */
        function resetQuiz() {
            currentQuestionIndex = 0;
            TOTAL_QUESTIONS = 0;
            userResult = {};
            selectedQuestions = [];

            // Reset UI Visibility
            document.getElementById('start-screen').style.display = 'block';
            document.getElementById('progressContainer').style.display = 'none';
            document.getElementById('progressText').style.display = 'none';
            document.getElementById('quizForm').style.display = 'none';
            document.getElementById('resultBtnContainer').style.display = 'none';
            document.getElementById('result').style.display = 'none';

            // Reset Content
            document.getElementById('quizForm').innerHTML = '';
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('userName').value = '';

            // Update progress text in case it was showing an old value
            document.getElementById('progressText').textContent = '';
        }

        /**
         * Starts the quiz based on the selected number of questions.
         * @param {number} numQuestions - 10, 20, or 30.
         */
        function startQuiz(numQuestions) {
            resetQuiz(); // Ensure a clean start
            TOTAL_QUESTIONS = numQuestions;

            prepareQuiz(numQuestions);

            // Update UI visibility
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('progressText').style.display = 'block';
            document.getElementById('quizForm').style.display = 'block';

            // Show the first question
            const firstQuestion = document.querySelector('.question-block');
            if (firstQuestion) {
                firstQuestion.classList.add('active');
                currentQuestionIndex = 1;
                updateProgressBar();
            }
        }

        /**
         * Selects a balanced set of questions based on test length.
         * @param {number} numQuestions - 10, 20, or 30.
         */
        function prepareQuiz(numQuestions) {
            // Define required counts per dimension (EI, SN, TF, JP)
            let counts = {};
            if (numQuestions === 10) {
                counts = { EI: 2, SN: 2, TF: 3, JP: 3 }; // Total 10
            } else if (numQuestions === 20) {
                counts = { EI: 5, SN: 5, TF: 5, JP: 5 }; // Total 20
            } else { // 30 questions (use all)
                counts = { 
                    EI: questionPool.EI.length, 
                    SN: questionPool.SN.length, 
                    TF: questionPool.TF.length, 
                    JP: questionPool.JP.length 
                };
            }

            selectedQuestions = [];

            // Helper to get random subset of questions
            function getSubset(pool, count) {
                shuffleArray(pool);
                return pool.slice(0, count);
            }

            selectedQuestions.push(...getSubset(questionPool.EI, counts.EI));
            selectedQuestions.push(...getSubset(questionPool.SN, counts.SN));
            selectedQuestions.push(...getSubset(questionPool.TF, counts.TF));
            selectedQuestions.push(...getSubset(questionPool.JP, counts.JP));

            // Final shuffle for display order
            shuffleArray(selectedQuestions);

            // Re-set the total questions based on actual generated length
            TOTAL_QUESTIONS = selectedQuestions.length;

            generateQuestionsHTML();
        }

        /**
         * Dynamically generates the HTML for all selected questions.
         */
        function generateQuestionsHTML() {
            const form = document.getElementById('quizForm');
            let html = '';
            
            selectedQuestions.forEach((qData, index) => {
                const qNum = index + 1;
                const trait = qData.trait; // e.g., 'E', 'N', 'T', 'P'
                const oppositeTrait = { 'E': 'I', 'I': 'E', 'S': 'N', 'N': 'S', 'T': 'F', 'F': 'T', 'J': 'P', 'P': 'J' }[trait];

                // Determine option values: Trait gets points for Agree, Opposite for Disagree
                const optionsMap = {
                    4: `${trait}:2`, // Strongly Agree
                    3: `${trait}:1`, // Agree
                    2: `${oppositeTrait}:1`, // Disagree
                    1: `${oppositeTrait}:2` // Strongly Disagree
                };

                html += `
                    <div class="question-block" id="q-${qNum}">
                        <p class="question-text">${qNum}. ${qData.q[currentLang]}</p>
                        <div class="options-container" onchange="handleAnswer(${qNum})">
                            
                            <!-- Strongly Agree -->
                            <input type="radio" id="q${qNum}-o4" name="q${qNum}" value="${optionsMap[4]}">
                            <label for="q${qNum}-o4"><span data-i18n-key="option_4">${i18n[currentLang].option_4}</span> (${trait})</label>

                            <!-- Agree -->
                            <input type="radio" id="q${qNum}-o3" name="q${qNum}" value="${optionsMap[3]}">
                            <label for="q${qNum}-o3"><span data-i18n-key="option_3">${i18n[currentLang].option_3}</span> (${trait})</label>

                            <!-- Disagree -->
                            <input type="radio" id="q${qNum}-o2" name="q${qNum}" value="${optionsMap[2]}">
                            <label for="q${qNum}-o2"><span data-i18n-key="option_2">${i18n[currentLang].option_2}</span> (${oppositeTrait})</label>

                            <!-- Strongly Disagree -->
                            <input type="radio" id="q${qNum}-o1" name="q${qNum}" value="${optionsMap[1]}">
                            <label for="q${qNum}-o1"><span data-i18n-key="option_1">${i18n[currentLang].option_1}</span> (${oppositeTrait})</label>
                        </div>
                    </div>
                `;
            });

            form.innerHTML = html;
        }

        /**
         * Updates progress bar and advances to the next question.
         */
        function updateProgressBar() {
            const percentage = (currentQuestionIndex / TOTAL_QUESTIONS) * 100;
            document.getElementById('progressBar').style.width = `${percentage}%`;
            document.getElementById('progressText').textContent = i18n[currentLang].progress_text(currentQuestionIndex, TOTAL_QUESTIONS);
        }

        /**
         * Handles the answer selection, advances UI.
         * @param {number} questionNumber - The index of the answered question.
         */
        function handleAnswer(questionNumber) {
            const currentBlock = document.getElementById(`q-${questionNumber}`);
            
            // Disable inputs for answered question
            currentBlock.querySelectorAll('input').forEach(input => {
                input.disabled = true;
            });
            
            // Update UI state
            currentQuestionIndex = questionNumber;
            updateProgressBar();

            // Check if it is the last question
            if (questionNumber === TOTAL_QUESTIONS) {
                // Last question answered
                setTimeout(() => {
                    currentBlock.classList.remove('active');
                    document.getElementById('progressContainer').style.display = 'none';
                    document.getElementById('progressText').style.display = 'none';
                    document.getElementById('resultBtnContainer').style.display = 'block';
                }, 400);

            } else {
                // Not the last question, move to the next
                const nextQuestionNumber = questionNumber + 1;
                const nextBlock = document.getElementById(`q-${nextQuestionNumber}`);

                setTimeout(() => {
                    currentBlock.classList.remove('active');
                    if (nextBlock) {
                        nextBlock.classList.add('active');
                        currentQuestionIndex = nextQuestionNumber; // Update global index for progress bar next time
                    }
                }, 400);
            }
        }

        /**
         * Calculates the final personality type and displays results.
         */
        function calculateResult() {
            const form = document.getElementById('quizForm');
            const checkedInputs = form.querySelectorAll('input[type="radio"]:checked');

            // 1. Check for completeness
            if (checkedInputs.length !== TOTAL_QUESTIONS) {
                window.alert(i18n[currentLang].alert_incomplete);
                return;
            }

            // 2. Initialize scores
            const scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

            // 3. Aggregate scores
            checkedInputs.forEach(input => {
                // Value is in format 'T:2' or 'I:1'
                const [trait, pointsStr] = input.value.split(':');
                const points = parseInt(pointsStr);
                scores[trait] += points;
            });

            // 4. Determine the 4-letter type
            let finalType = '';
            finalType += (scores.E >= scores.I) ? 'E' : 'I';
            finalType += (scores.S >= scores.N) ? 'S' : 'N';
            finalType += (scores.T >= scores.F) ? 'T' : 'F';
            finalType += (scores.J >= scores.P) ? 'J' : 'P';

            // 5. Retrieve result data
            const resultData = personalityTypes[finalType] || { title: { en: "Unknown", hi: "अज्ञात", bn: "অজানা" }, tagline: { en: "Error: Type not found", hi: "त्रुटि: प्रकार नहीं मिला", bn: "ত্রুটি: প্রকার পাওয়া যায়নি" }, description: { en: "Please try the test again.", hi: "कृपया फिर से प्रयास करें।", bn: "অনুগ্রহ করে আবার চেষ্টা করুন।" }, characteristics: { en: ["N/A"] } };
            
            // Populate global result object
            userResult = {
                type: finalType,
                title: resultData.title[currentLang],
                tagline: resultData.tagline[currentLang],
                description: resultData.description[currentLang],
                characteristics: resultData.characteristics[currentLang]
            };

            // 6. Update DOM
            document.getElementById('quizForm').style.display = 'none';
            document.getElementById('resultBtnContainer').style.display = 'none';

            document.getElementById('result-type').textContent = userResult.type;
            document.getElementById('result-title').textContent = userResult.title;
            document.getElementById('result-tagline').textContent = userResult.tagline;
            document.getElementById('result-desc').textContent = userResult.description;
            
            const charsList = document.createElement('ul');
            userResult.characteristics.forEach(char => {
                const li = document.createElement('li');
                li.textContent = char;
                charsList.appendChild(li);
            });
            document.getElementById('result-chars').innerHTML = '';
            document.getElementById('result-chars').appendChild(charsList);

            document.getElementById('result').style.display = 'block';

            // 7. Trigger confetti
            triggerConfetti();
        }

        /**
         * Triggers the confetti animation.
         */
        function triggerConfetti() {
            const duration = 3 * 1000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 9999 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);

                // since particles fall down, start a bit higher than random
                confetti(Object.assign({}, defaults, {
                    particleCount,
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
                    colors: ['#6a11cb', '#2575fc', '#ffffff']
                }));
                confetti(Object.assign({}, defaults, {
                    particleCount,
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
                    colors: ['#6a11cb', '#2575fc', '#ffffff']
                }));
            }, 250);
        }

        /**
         * Constructs a WhatsApp share link and opens it.
         */
        function shareOnWhatsApp() {
            const userName = document.getElementById('userName').value.trim();
            const type = userResult.type || '16-Type Personality';
            const title = userResult.title || i18n[currentLang].page_title;

            const message = i18n[currentLang].share_message(userName, type, title);

            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            // Initial call to set the default language and text content
            setLanguage('bn');
        });

    </script>
</body>
</html>
